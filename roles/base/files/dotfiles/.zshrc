#!/bin/zsh

# https://0xmachos.com/2021-05-13-zsh-path-macos/
export PATH="$HOMEBREW_PREFIX/bin:$PATH"

# zstyle ':omz:plugins:nvm' lazy no
# zstyle ':omz:plugins:nvm' autoload yes
# zstyle ':omz:plugins:nvm' silent-autoload yes # optionally remove the output generated by NVM when autoloading
zstyle :omz:plugins:iterm2 shell-integration yes
plugins=(
    brew    # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/brew
    direnv  # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/direnv
    gcloud  # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/gcloud
    iterm2  # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/iterm2
    nvm     # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/nvm
    pyenv   # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/pyenv
    sdk     # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/sdk
)

# Prompt colors
fpath+=("$(brew --prefix)/share/zsh/site-functions")
autoload -Uz promptinit
promptinit
prompt pure

# Load the shell dotfiles, and then some:
# * ~/.extra can be used for other settings you donâ€™t want to commit.
for file in ~/.{path,aliases,functions,extra}; do
	[ -r "$file" ] && [ -f "$file" ] && source "$file";
done;
unset file;

# Initialize SDKMAN
[[ -s "$HOME/.sdkman/bin/sdkman-init.sh" ]] && source "$HOME/.sdkman/bin/sdkman-init.sh"

# Initialize NVM
[ -s "$(brew --prefix nvm)/nvm.sh" ] && . "$(brew --prefix nvm)/nvm.sh"

export PYENV_ROOT="$HOME/.pyenv"
command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"